<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Filesystem notes: Notes as files (coming soon)" href="filesystem-notes.html" /><link rel="prev" title="Branches" href="working-with-notes/branches.html" />
        <link rel="canonical" href="https://mm21.github.com/trilium-alchemy/sdk/guide/declarative-notes.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2023.09.10 -->
        <title>Declarative notes: Notes as code - TriliumAlchemy</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=0855384a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">TriliumAlchemy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/logo-light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/logo-dark.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">TriliumAlchemy</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/setup.html">Setup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">User guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="working-with-notes/index.html">Working with notes</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Working with notes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="working-with-notes/sessions.html">Sessions</a></li>
<li class="toctree-l3"><a class="reference internal" href="working-with-notes/notes.html">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="working-with-notes/attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="working-with-notes/branches.html">Branches</a></li>
</ul>
</li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Declarative notes: Notes as code</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem-notes.html">Filesystem notes: Notes as files (coming soon)</a></li>
<li class="toctree-l2"><a class="reference internal" href="extensions.html">Trilium extensions (coming soon)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sync.html">Synchronizing notes (coming soon)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/event-tracker.html">Event tracker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/hello-world.html">“Hello, world” note (coming soon)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tools/trilium-sync/index.html">Folder sync (coming soon)</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Folder sync (coming soon)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trilium-sync/usage.html">Usage (coming soon)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/api.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.html"><code class="docutils literal notranslate"><span class="pre">trilium_alchemy</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of trilium_alchemy</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.html"><code class="docutils literal notranslate"><span class="pre">core</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of core</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html"><code class="docutils literal notranslate"><span class="pre">note</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of note</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.attributes.html"><code class="docutils literal notranslate"><span class="pre">attributes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.branches.html"><code class="docutils literal notranslate"><span class="pre">branches</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.content.html"><code class="docutils literal notranslate"><span class="pre">content</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.attribute.html"><code class="docutils literal notranslate"><span class="pre">attribute</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.branch.html"><code class="docutils literal notranslate"><span class="pre">branch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html"><code class="docutils literal notranslate"><span class="pre">declarative</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.entity.html"><code class="docutils literal notranslate"><span class="pre">entity</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.exceptions.html"><code class="docutils literal notranslate"><span class="pre">exceptions</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.ext.html"><code class="docutils literal notranslate"><span class="pre">ext</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of ext</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.ext.types.html"><code class="docutils literal notranslate"><span class="pre">types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.ext.helpers.html"><code class="docutils literal notranslate"><span class="pre">helpers</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.sync.html"><code class="docutils literal notranslate"><span class="pre">sync</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/fs-spec.html">Filesystem note specification (in progress)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/guide.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/roadmap.html">Roadmap</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="declarative-notes-notes-as-code">
<span id="declarative-notes"></span><h1>Declarative notes: Notes as code<a class="headerlink" href="#declarative-notes-notes-as-code" title="Link to this heading">¶</a></h1>
<p>One of the goals of this project is to enable building, maintaining, and sharing complex note hierarchies using Python. This approach is declarative in nature, inspired by SQLAlchemy’s <a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/mapping_styles.html#orm-declarative-mapping">declarative mapping</a> approach.</p>
<p>The general idea of declarative programming is that you specify the desired end state, not the steps needed to reach it.</p>
<p>For a fully-featured example of a note hierarchy designed using this approach, see <a class="reference internal" href="../examples/event-tracker.html#event-tracker"><span class="std std-ref">Event tracker</span></a>.</p>
<section id="note-subclasses">
<h2>Note subclasses<a class="headerlink" href="#note-subclasses" title="Link to this heading">¶</a></h2>
<p>The basic technique is to subclass <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyNote</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;My note&quot;</span>
</pre></div>
</div>
</section>
<section id="mixin-subclasses">
<h2>Mixin subclasses<a class="headerlink" href="#mixin-subclasses" title="Link to this heading">¶</a></h2>
<p>Sometimes you want to logically group attributes and/or children together in a reusable way, but don’t need a fully-featured <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a>. In those cases you can use a <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin" title="trilium_alchemy.core.note.BaseNoteMixin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin</span></code></a>.</p>
<p>The basic technique is to subclass <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin" title="trilium_alchemy.core.note.BaseNoteMixin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMixin</span><span class="p">(</span><span class="n">BaseNoteMixin</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a> inherits from <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin" title="trilium_alchemy.core.note.BaseNoteMixin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin</span></code></a>, so the following semantics can be applied to <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a> subclasses and <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin" title="trilium_alchemy.core.note.BaseNoteMixin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin</span></code></a> subclasses equally.</p>
</div>
</section>
<section id="adding-labels">
<h2>Adding labels<a class="headerlink" href="#adding-labels" title="Link to this heading">¶</a></h2>
<p>Use the decorator <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.label" title="trilium_alchemy.core.declarative.label"><code class="xref py py-obj docutils literal notranslate"><span class="pre">label</span></code></a> to add a label:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;sorted&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SortedMixin</span><span class="p">(</span><span class="n">BaseNoteMixin</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>Now you can simply subclass this mixin if you want a note’s children to be sorted:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;iconClass&quot;</span><span class="p">,</span> <span class="s2">&quot;bx bx-group&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Contacts</span><span class="p">(</span><span class="n">Note</span><span class="p">,</span> <span class="n">SortedMixin</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>The above is equivalent to the following imperative approach:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">contacts</span> <span class="o">=</span> <span class="n">Note</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Contacts&quot;</span><span class="p">)</span>
<span class="n">contacts</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;iconClass&quot;</span><span class="p">,</span> <span class="s2">&quot;bx bx-group&quot;</span><span class="p">),</span> <span class="n">Label</span><span class="p">(</span><span class="s2">&quot;sorted&quot;</span><span class="p">)]</span>
</pre></div>
</div>
<section id="promoted-attributes">
<h3>Promoted attributes<a class="headerlink" href="#promoted-attributes" title="Link to this heading">¶</a></h3>
<p>A special type of label is one which defines a <a class="reference external" href="https://github.com/zadam/trilium/wiki/Promoted-attributes">promoted attribute</a>. Decorators <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.label_def" title="trilium_alchemy.core.declarative.label_def"><code class="xref py py-obj docutils literal notranslate"><span class="pre">label_def</span></code></a> and <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.relation_def" title="trilium_alchemy.core.declarative.relation_def"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relation_def</span></code></a> are provided for convenience.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;person&quot;</span><span class="p">)</span>
<span class="nd">@label_def</span><span class="p">(</span><span class="s2">&quot;altName&quot;</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nd">@label_def</span><span class="p">(</span><span class="s2">&quot;birthday&quot;</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>
<span class="nd">@relation_def</span><span class="p">(</span><span class="s2">&quot;livesAt&quot;</span><span class="p">)</span>
<span class="nd">@relation_def</span><span class="p">(</span><span class="s2">&quot;livedAt&quot;</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">WorkspaceTemplate</span><span class="p">):</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;bx bxs-user-circle&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="setting-fields">
<h2>Setting fields<a class="headerlink" href="#setting-fields" title="Link to this heading">¶</a></h2>
<p>You can set the following fields by setting attribute values:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.title" title="trilium_alchemy.core.note.Note.title"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.title</span></code></a></p></li>
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_type" title="trilium_alchemy.core.note.Note.note_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_type</span></code></a></p></li>
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.mime" title="trilium_alchemy.core.note.Note.mime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.mime</span></code></a></p></li>
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.content" title="trilium_alchemy.core.note.Note.content"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.content</span></code></a></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyNote</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;My title&quot;</span>
    <span class="n">note_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
    <span class="n">mime</span> <span class="o">=</span> <span class="s2">&quot;text/html&quot;</span>
    <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&lt;p&gt;Hello, world!&lt;/p&gt;&quot;</span>
</pre></div>
</div>
</section>
<section id="setting-content-from-file">
<h2>Setting content from file<a class="headerlink" href="#setting-content-from-file" title="Link to this heading">¶</a></h2>
<p>Set note content from a file by setting <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.content_file" title="trilium_alchemy.core.note.Note.content_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.content_file</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyFrontendScript</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">note_type</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span>
    <span class="n">mime</span> <span class="o">=</span> <span class="s2">&quot;application/javascript;env=frontend&quot;</span>
    <span class="n">content_file</span> <span class="o">=</span> <span class="s2">&quot;assets/myFrontendScript.js&quot;</span>
</pre></div>
</div>
<p>The filename is relative to the package the class is defined in. Currently accessing parent paths (<code class="code docutils literal highlight highlight-python"><span class="s2">&quot;..&quot;</span></code>) is not supported.</p>
</section>
<section id="singleton-notes">
<h2>Singleton notes<a class="headerlink" href="#singleton-notes" title="Link to this heading">¶</a></h2>
<p>In some cases it’s important to generate the same <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a> every time the class is instantiated. Templates, for example, should have only one instance and be automatically updated as changes are made to the code. This behavior can be accomplished in a number of ways.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Without setting <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.leaf" title="trilium_alchemy.core.note.Note.leaf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.leaf</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.leaf" title="trilium_alchemy.core.note.BaseNoteMixin.leaf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.leaf</span></code></a>, TriliumAlchemy assumes that you want to explicitly specify the note’s children. Therefore it will delete any existing children which aren’t declaratively added. See <a class="reference internal" href="#leaf-notes"><span class="std std-ref">Leaf notes</span></a> to learn more.</p>
</div>
<section id="setting-singleton">
<h3>Setting <code class="docutils literal notranslate"><span class="pre">singleton</span></code><a class="headerlink" href="#setting-singleton" title="Link to this heading">¶</a></h3>
<p>When <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.singleton" title="trilium_alchemy.core.note.Note.singleton"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.singleton</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.singleton" title="trilium_alchemy.core.note.BaseNoteMixin.singleton"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.singleton</span></code></a> is set, the note’s <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a> is generated based on the fully qualified class name, i.e. the class name including its modpath.</p>
<p>The following creates a template note for a task:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">)</span>
<span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;iconClass&quot;</span><span class="p">,</span> <span class="s2">&quot;bx bx-task&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Task</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">singleton</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="setting-note-id-seed">
<h3>Setting <code class="docutils literal notranslate"><span class="pre">note_id_seed</span></code><a class="headerlink" href="#setting-note-id-seed" title="Link to this heading">¶</a></h3>
<p>When <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id_seed" title="trilium_alchemy.core.note.Note.note_id_seed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id_seed</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.note_id_seed" title="trilium_alchemy.core.note.BaseNoteMixin.note_id_seed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.note_id_seed</span></code></a> is set, the provided value is hashed to generate <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a>.</p>
<p>It uses the same hash algorithm used by <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.singleton" title="trilium_alchemy.core.note.BaseNoteMixin.singleton"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.singleton</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># now note_id won&#39;t change if we move the class to a different module</span>
<span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">)</span>
<span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;iconClass&quot;</span><span class="p">,</span> <span class="s2">&quot;bx bx-task&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Task</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">note_id_seed</span> <span class="o">=</span> <span class="s2">&quot;Task&quot;</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Add a flag to set <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.note_id_seed" title="trilium_alchemy.core.note.BaseNoteMixin.note_id_seed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.note_id_seed</span></code></a> from class name (user guarantees uniqueness of class names)</p>
</div>
</section>
<section id="setting-note-id">
<h3>Setting <code class="docutils literal notranslate"><span class="pre">note_id</span></code><a class="headerlink" href="#setting-note-id" title="Link to this heading">¶</a></h3>
<p>When <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.note_id" title="trilium_alchemy.core.note.BaseNoteMixin.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.note_id</span></code></a> is set, the provided value is used as <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a> directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyNote</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">note_id</span> <span class="o">=</span> <span class="s2">&quot;my_note_id&quot;</span>
</pre></div>
</div>
</section>
<section id="passing-note-id">
<h3>Passing <code class="docutils literal notranslate"><span class="pre">note_id</span></code><a class="headerlink" href="#passing-note-id" title="Link to this heading">¶</a></h3>
<p>When <code class="docutils literal notranslate"><span class="pre">note_id</span></code> is passed in the constructor of a <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a> subclass, it’s similarly considered a singleton.</p>
</section>
<section id="child-of-singleton">
<h3>Child of singleton<a class="headerlink" href="#child-of-singleton" title="Link to this heading">¶</a></h3>
<p>Every child of a singleton note is required to also have a deterministic <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.note_id" title="trilium_alchemy.core.note.Note.note_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.note_id</span></code></a>. Therefore a <code class="docutils literal notranslate"><span class="pre">note_id</span></code> is generated for children of singletons, even if they don’t satisfy any of the above criteria.</p>
<p>This is recursive, so an entire note tree specified by <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a> subclasses will be instantiated with a deterministic <code class="docutils literal notranslate"><span class="pre">note_id</span></code> if the root satisfies any of the above criteria.</p>
</section>
</section>
<section id="adding-relations">
<h2>Adding relations<a class="headerlink" href="#adding-relations" title="Link to this heading">¶</a></h2>
<p>You can declaratively add a relation to another note, as long as the target note is a singleton.</p>
<p>For example, to create a <code class="docutils literal notranslate"><span class="pre">~template</span></code> relation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@relation</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span> <span class="n">Task</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">TaskInstance</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>Now you can create a task by simply instantiating <code class="docutils literal notranslate"><span class="pre">TaskInstance</span></code>, and it will automatically have <code class="docutils literal notranslate"><span class="pre">~template=Task</span></code>.</p>
</section>
<section id="adding-children">
<h2>Adding children<a class="headerlink" href="#adding-children" title="Link to this heading">¶</a></h2>
<p>Use <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.children" title="trilium_alchemy.core.declarative.children"><code class="xref py py-obj docutils literal notranslate"><span class="pre">children</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.child" title="trilium_alchemy.core.declarative.child"><code class="xref py py-obj docutils literal notranslate"><span class="pre">child</span></code></a> to add children:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child1</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">class</span> <span class="nc">Child2</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">class</span> <span class="nc">Child3</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span> <span class="k">pass</span>

<span class="nd">@children</span><span class="p">(</span><span class="n">Child1</span><span class="p">,</span> <span class="n">Child2</span><span class="p">)</span> <span class="c1"># add children with no branch prefix</span>
<span class="nd">@child</span><span class="p">(</span><span class="n">Child3</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;My prefix&quot;</span><span class="p">)</span> <span class="c1"># add child with branch prefix</span>
<span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="custom-initializer-to-add-attributes-children">
<h2>Custom initializer to add attributes, children<a class="headerlink" href="#custom-initializer-to-add-attributes-children" title="Link to this heading">¶</a></h2>
<p>Define <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.init" title="trilium_alchemy.core.note.Note.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.init</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.init" title="trilium_alchemy.core.note.BaseNoteMixin.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.init</span></code></a> to add attributes and children dynamically. Use the following APIs to add attributes and children:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.create_declarative_label" title="trilium_alchemy.core.note.Note.create_declarative_label"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.create_declarative_label</span></code></a></p></li>
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.create_declarative_relation" title="trilium_alchemy.core.note.Note.create_declarative_relation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.create_declarative_relation</span></code></a></p></li>
<li><p><a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.create_declarative_child" title="trilium_alchemy.core.note.Note.create_declarative_child"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.create_declarative_child</span></code></a></p></li>
</ul>
<p>These APIs are required for singleton notes to generate a deterministic id for attributes and children, generating the same subtree every time the <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note" title="trilium_alchemy.core.note.Note"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note</span></code></a> subclass is instantiated.</p>
<p>For example, a mixin which provides a convenient way to set an attribute <code class="docutils literal notranslate"><span class="pre">#myLabel</span></code> to a given value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMixin</span><span class="p">(</span><span class="n">BaseNoteMixin</span><span class="p">):</span>

    <span class="n">my_label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    If set, add attribute `myLabel` with provided value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Attribute</span><span class="p">],</span> <span class="n">children</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Branch</span><span class="p">]):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">my_label</span><span class="p">:</span>
            <span class="n">attributes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_declarative_label</span><span class="p">(</span><span class="s2">&quot;myLabel&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">my_label</span><span class="p">)</span>
            <span class="p">)</span>

<span class="k">class</span> <span class="nc">MyNote</span><span class="p">(</span><span class="n">Note</span><span class="p">,</span> <span class="n">MyMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This note will automatically have the label `#myLabel=my-label-value`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">my_label</span> <span class="o">=</span> <span class="s2">&quot;my-label-value&quot;</span>
</pre></div>
</div>
</section>
<section id="leaf-notes">
<span id="id2"></span><h2>Leaf notes<a class="headerlink" href="#leaf-notes" title="Link to this heading">¶</a></h2>
<p>If you design a note hierarchy using this approach, you might want to designate some “folder” notes to hold user-maintained notes. Set <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.Note.leaf" title="trilium_alchemy.core.note.Note.leaf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Note.leaf</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.note.html#trilium_alchemy.core.note.BaseNoteMixin.leaf" title="trilium_alchemy.core.note.BaseNoteMixin.leaf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseNoteMixin.leaf</span></code></a> to indicate this, in which case using <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.children" title="trilium_alchemy.core.declarative.children"><code class="xref py py-obj docutils literal notranslate"><span class="pre">children</span></code></a> or <a class="reference internal" href="../../build/autodoc2/trilium_alchemy/trilium_alchemy.core.declarative.html#trilium_alchemy.core.declarative.child" title="trilium_alchemy.core.declarative.child"><code class="xref py py-obj docutils literal notranslate"><span class="pre">child</span></code></a> will raise an exception.</p>
<p>For example, this would be necessary for a list of contacts:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;sorted&quot;</span><span class="p">)</span>
<span class="nd">@label</span><span class="p">(</span><span class="s2">&quot;iconClass&quot;</span><span class="p">,</span> <span class="s2">&quot;bx bx-group&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Contacts</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>
    <span class="n">singleton</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">leaf</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Now, assuming it’s been placed in your hierarchy, you can access your contact list by simply instantiating <code class="docutils literal notranslate"><span class="pre">Contacts</span></code>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="filesystem-notes.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Filesystem notes: Notes as files (coming soon)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="working-with-notes/branches.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Branches</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, mm21
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Declarative notes: Notes as code</a><ul>
<li><a class="reference internal" href="#note-subclasses">Note subclasses</a></li>
<li><a class="reference internal" href="#mixin-subclasses">Mixin subclasses</a></li>
<li><a class="reference internal" href="#adding-labels">Adding labels</a><ul>
<li><a class="reference internal" href="#promoted-attributes">Promoted attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-fields">Setting fields</a></li>
<li><a class="reference internal" href="#setting-content-from-file">Setting content from file</a></li>
<li><a class="reference internal" href="#singleton-notes">Singleton notes</a><ul>
<li><a class="reference internal" href="#setting-singleton">Setting <code class="docutils literal notranslate"><span class="pre">singleton</span></code></a></li>
<li><a class="reference internal" href="#setting-note-id-seed">Setting <code class="docutils literal notranslate"><span class="pre">note_id_seed</span></code></a></li>
<li><a class="reference internal" href="#setting-note-id">Setting <code class="docutils literal notranslate"><span class="pre">note_id</span></code></a></li>
<li><a class="reference internal" href="#passing-note-id">Passing <code class="docutils literal notranslate"><span class="pre">note_id</span></code></a></li>
<li><a class="reference internal" href="#child-of-singleton">Child of singleton</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-relations">Adding relations</a></li>
<li><a class="reference internal" href="#adding-children">Adding children</a></li>
<li><a class="reference internal" href="#custom-initializer-to-add-attributes-children">Custom initializer to add attributes, children</a></li>
<li><a class="reference internal" href="#leaf-notes">Leaf notes</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/custom.js?v=98a9d4e2"></script>
    </body>
</html>